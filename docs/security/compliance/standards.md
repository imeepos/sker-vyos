# 合规标准 (/security/compliance/standards)

## 页面概述

合规标准管理页面用于配置和管理各种安全合规标准，支持内置标准和自定义标准，为合规检查提供基础规则和要求定义。

## 核心功能

### 1. 标准库管理
- 预置主流合规标准（ISO 27001、SOX、GDPR、PCI DSS等）
- 标准版本管理和更新
- 标准激活/停用状态控制

### 2. 自定义标准
- 创建企业特定合规标准
- 标准分类和标签管理
- 标准继承和扩展机制

### 3. 合规要求配置
- 详细的合规要求条目
- 检查规则和验证逻辑
- 风险等级和影响评估

### 4. 标准映射关系
- 不同标准间的映射关系
- 要求条目交叉引用
- 重复性检查优化

## 页面布局

### 顶部工具栏
```
┌─────────────────────────────────────────────────────────────────┐
│ [新增标准] [批量导入] [导出配置] [同步更新]    [搜索框]        [筛选▼] │
└─────────────────────────────────────────────────────────────────┘
```

### 左侧标准分类
```
┌─────────────────┐
│ 标准分类          │
├─────────────────┤
│ □ 国际标准       │
│   ├ ISO 27001   │
│   ├ ISO 27002   │
│   └ IEC 62443   │
│ □ 行业标准       │
│   ├ PCI DSS     │
│   ├ HIPAA       │
│   └ NIST        │
│ □ 法规要求       │
│   ├ GDPR        │
│   ├ SOX         │
│   └ FISMA       │
│ □ 自定义标准     │
│   ├ 企业标准A    │
│   └ 企业标准B    │
└─────────────────┘
```

### 主要内容区域
```
┌─────────────────────────────────────────────────────────────────┐
│ 合规标准详情                                 [编辑] [复制] [删除]   │
├─────────────────────────────────────────────────────────────────┤
│ 标准名称: ISO 27001:2013                                        │
│ 标准描述: 信息安全管理体系要求                                     │
│ 标准版本: 2013                        状态: ✅ 已启用            │
│ 创建时间: 2024-01-15                  更新时间: 2024-03-20      │
├─────────────────────────────────────────────────────────────────┤
│ 合规要求列表                          [添加要求] [批量导入] [导出]  │
├──────┬─────────────────┬──────────┬──────────┬─────────────────┤
│ 编号   │ 要求描述            │ 风险等级    │ 状态      │ 操作            │
├──────┼─────────────────┼──────────┼──────────┼─────────────────┤
│ A.5.1 │ 信息安全策略        │ 高风险     │ 启用      │ [编辑] [详情]    │
│ A.6.1 │ 信息安全组织        │ 中风险     │ 启用      │ [编辑] [详情]    │
│ A.7.1 │ 雇用前筛选          │ 中风险     │ 停用      │ [编辑] [详情]    │
│ A.8.1 │ 资产管理           │ 高风险     │ 启用      │ [编辑] [详情]    │
└──────┴─────────────────┴──────────┴──────────┴─────────────────┘
```

### 要求详情面板
```
┌─────────────────────────────────────────────────────────────────┐
│ 要求详情 - A.5.1 信息安全策略                            [关闭 ×]   │
├─────────────────────────────────────────────────────────────────┤
│ 基本信息:                                                      │
│   编号: A.5.1                        类别: 组织安全            │
│   标题: 信息安全策略                  风险等级: 高风险          │
│   描述: 应建立信息安全策略文档，并获得管理层批准                     │
├─────────────────────────────────────────────────────────────────┤
│ 检查配置:                                                      │
│   检查方法: ☑ 文档检查 ☑ 配置验证 ☐ 技术扫描                    │
│   检查频率: 月度                      自动检查: ✅ 启用         │
│   验证脚本: check_security_policy.sh                          │
├─────────────────────────────────────────────────────────────────┤
│ 相关映射:                                                      │
│   NIST: SC-1                         CIS: 1.1                │
│   PCI DSS: 12.1                      GDPR: Article 32       │
├─────────────────────────────────────────────────────────────────┤
│                    [保存修改] [取消] [测试检查]                     │
└─────────────────────────────────────────────────────────────────┘
```

## API接口需求

### 获取标准列表
- **接口**: `GET /api/security/compliance/standards`
- **功能**: 获取所有合规标准列表
- **参数**: 分页、筛选条件、搜索关键词
- **返回**: 标准基本信息列表

### 获取标准详情
- **接口**: `GET /api/security/compliance/standards/{id}`
- **功能**: 获取特定标准的详细信息
- **返回**: 标准完整信息和要求列表

### 创建/更新标准
- **接口**: `POST/PUT /api/security/compliance/standards`
- **功能**: 创建新标准或更新现有标准
- **参数**: 标准配置数据

### 获取要求详情
- **接口**: `GET /api/security/compliance/requirements/{id}`
- **功能**: 获取特定要求的详细配置
- **返回**: 要求完整配置信息

### 批量操作接口
- **接口**: `POST /api/security/compliance/standards/batch`
- **功能**: 批量启用/停用标准或要求
- **参数**: 操作类型和目标ID列表

### 标准同步接口
- **接口**: `POST /api/security/compliance/standards/sync`
- **功能**: 同步外部标准库更新
- **参数**: 同步配置和认证信息

## 组件设计

### 标准卡片组件
```vue
<StandardCard 
  :standard="standardData"
  :editable="hasEditPermission"
  @edit="handleEdit"
  @toggle="handleToggle"
  @delete="handleDelete"
/>
```

### 要求配置组件
```vue
<RequirementConfig
  :requirement="requirementData"
  :mappings="relatedMappings"
  @save="handleSave"
  @test="handleTest"
/>
```

### 标准对比组件
```vue
<StandardComparison
  :standards="selectedStandards"
  :showMapping="true"
  @export="handleExport"
/>
```

## 数据结构

### 标准数据结构
```typescript
interface ComplianceStandard {
  id: string
  name: string
  description: string
  version: string
  category: string
  status: 'active' | 'inactive'
  isCustom: boolean
  createdAt: string
  updatedAt: string
  requirements: Requirement[]
}

interface Requirement {
  id: string
  code: string
  title: string
  description: string
  riskLevel: 'high' | 'medium' | 'low'
  category: string
  checkMethods: string[]
  checkFrequency: string
  autoCheck: boolean
  verificationScript?: string
  mappings: Mapping[]
}

interface Mapping {
  standardId: string
  standardName: string
  requirementCode: string
  relationshipType: 'equivalent' | 'related' | 'derived'
}
```

## 权限控制

### 查看权限
- 合规专员：完全查看
- 安全管理员：完全查看
- 审计员：只读查看

### 编辑权限
- 超级管理员：完全编辑
- 合规专员：标准和要求编辑
- 安全管理员：要求配置编辑

### 系统权限
- 标准同步：超级管理员
- 批量操作：合规专员以上
- 删除操作：超级管理员

## 业务流程

### 标准配置流程
1. 选择预置标准或创建自定义标准
2. 配置标准基本信息
3. 添加/配置合规要求
4. 设置检查方法和频率
5. 配置风险等级和映射关系
6. 测试验证配置
7. 激活标准

### 要求管理流程
1. 创建或导入要求条目
2. 设置要求分类和优先级
3. 配置自动检查规则
4. 设置验证脚本
5. 建立与其他标准的映射
6. 测试检查逻辑
7. 启用要求

## 响应式适配

### 大屏幕 (≥1200px)
- 三列布局：分类树 + 内容区 + 详情面板
- 完整功能展示

### 中等屏幕 (768px-1199px)
- 两列布局：分类折叠 + 内容区
- 详情面板弹窗显示

### 小屏幕 (<768px)
- 单列布局
- 分类导航抽屉式
- 卡片式展示

## 性能优化

### 数据加载
- 标准列表虚拟滚动
- 要求详情按需加载
- 分页加载大量数据

### 缓存策略
- 标准配置本地缓存
- 要求详情分级缓存
- 映射关系缓存

### 搜索优化
- 客户端搜索优化
- 搜索结果高亮
- 智能搜索建议