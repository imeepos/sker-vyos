# 基础设施管理 - 设备状态页面

## 页面功能

### 核心功能
- **设备状态监控** - 实时监控设备运行状态
- **状态变更跟踪** - 跟踪设备状态变更历史
- **状态告警管理** - 管理设备状态告警
- **批量状态操作** - 批量查看和管理设备状态

### 详细功能列表
1. 设备实时状态监控
2. 设备可用性统计
3. 状态变更历史记录
4. 设备健康度评估
5. 状态告警配置
6. 批量状态检查
7. 状态报表生成
8. 状态预测分析

## 页面布局

### 整体布局结构
```
┌─────────────────────────────────────────────┐
│        设备状态概览和筛选控制面板        │
├─────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐      │
│  │在线设备 │  │离线设备 │  │异常设备 │      │
│  │统计     │  │统计     │  │统计     │      │
│  └─────────┘  └─────────┘  └─────────┘      │
├─────────────────────────────────────────────┤
│  ┌──────────────────┐  ┌──────────────────┐ │
│  │   设备状态列表    │  │   状态趋势图表   │ │
│  │                  │  │                  │ │
│  └──────────────────┘  └──────────────────┘ │
├─────────────────────────────────────────────┤
│              状态历史和告警管理区域          │
└─────────────────────────────────────────────┘
```

### 具体区域设计

#### 1. 状态概览控制面板
- **筛选和查找**:
  - 设备名称搜索框
  - 设备类型筛选
  - 状态类型筛选
  - 设备分组筛选
  - 高级筛选选项
- **刷新控制**:
  - 实时状态刷新
  - 手动刷新按钮
  - 自动刷新间隔
  - 最后更新时间
- **操作按钮**:
  - 批量状态检查
  - 状态报表导出
  - 告警规则配置
  - 设备重启功能

#### 2. 状态统计卡片
- **在线设备统计卡片**:
  - 在线设备数量
  - 在线率百分比
  - 最近上线设备
  - 在线设备列表链接
- **离线设备统计卡片**:
  - 离线设备数量
  - 离线时间统计
  - 最近离线设备
  - 离线原因分析
- **异常设备统计卡片**:
  - 异常设备数量
  - 异常类型分布
  - 异常处理进度
  - 紧急异常数量

#### 3. 设备状态列表
- **状态信息展示**:
  - 设备名称和IP地址
  - 状态指示灯（绿/黄/红/灰）
  - 最后通信时间
  - 设备运行时间
  - 健康度评分
- **状态详情**:
  - 设备响应时间
  - CPU使用率
  - 内存使用率
  - 接口状态数
  - 告警数量统计
- **快速操作**:
  - Ping连通性测试
  - 设备信息刷新
  - 状态详情查看
  - 设备重启操作

#### 4. 状态趋势图表
- **实时状态趋勿**:
  - 在线设备数趋勿图
  - 状态变更事件图
  - 响应时间趋勿图
  - 故障频率统计图
- **历史数据对比**:
  - 同比数据对比
  - 环比数据对比
  - 设定基线对比
  - 异常检测标记
- **预测分析**:
  - 状态趋勿预测
  - 故障风险评估
  - 维护建议提示
  - 容量规划建议

#### 5. 底部历史和告警区域
- **状态变更历史**:
  - 设备状态变更记录
  - 变更时间和持续时长
  - 变更原因和描述
  - 变更影响评估
- **告警事件列表**:
  - 设备状态告警
  - 告警级别和类型
  - 告警处理状态
  - 告警确认操作

## 技术实现要点

### 状态采集机制
- SNMP状态轮询
- WebSocket实时状态推送
- 主动监控检测
- 状态缓存策略

### 状态存储管理
- 时序数据库存储
- 状态历史数据归档
- 数据压缩策略
- 分库分表设计

### 健康度评估算法
- 多指标加权评分
- 可用性SLA计算
- 故障频率分析
- 健康趋勿预测

### 告警规则引擎
- 阈值告警规则
- 状态变更告警
- 组合条件告警
- 告警抑制机制

## 状态类型定义

### 设备运行状态
- 在线（Online）
- 离线（Offline）
- 未知（Unknown）
- 维护（Maintenance）

### 设备健康状态
- 正常（Healthy）
- 警告（Warning）
- 异常（Critical）
- 故障（Faulty）

### 服务状态
- 运行中（Running）
- 已停止（Stopped）
- 重启中（Restarting）
- 错误（Error）

## 用户交互设计

### 状态色彩编码
- 绿色：正常状态
- 黄色：警告状态
- 红色：异常状态
- 灰色：未知状态

### 实时更新效果
- WebSocket实时推送
- 状态变更动画
- 鼓点等待效果
- 闪烁提示效果

### 批量操作界面
- 批量选择复选框
- 操作进度条显示
- 操作结果统计
- 失败项目单独显示

## 权限控制
- 设备状态查看权限
- 设备操作执行权限
- 告警配置管理权限
- 批量操作权限控制
- 敏感操作二次确认